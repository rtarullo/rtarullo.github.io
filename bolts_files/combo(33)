YUI.add("hermes-template-photostream-page",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function h(e,t){return"hidden"}function p(e,t){var r="",i,s;return r+="\n			<h4>",s={hash:{intlName:"magic-empty-states.PHOTOSTREAM_EMPTY"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):f.call(e,"intlMessage",s)))+'</h4>\n			<a class="butt medium" href="/photos/upload">',s={hash:{intlName:"magic-empty-states.PHOTOSTREAM_EMPTY_ACTION"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):f.call(e,"intlMessage",s)))+"</a>\n		",r}function d(e,t){var r="",i,s;return r+="\n			<h4>",s={hash:{intlName:"magic-empty-states.PHOTOSTREAM_EMPTY_OTHER"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):f.call(e,"intlMessage",s)))+"</h4>\n		",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f=n.helperMissing,l=this.escapeExpression,c=this;a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t["global-nav-view"],a):f.call(t,"outlet",t["global-nav-view"],a)))+"\n",a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t["fluid-header"],a):f.call(t,"outlet",t["fluid-header"],a)))+"\n",a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t.subnav,a):f.call(t,"outlet",t.subnav,a)))+"\n",a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t["fluid-magic-tools-view"],a):f.call(t,"outlet",t["fluid-magic-tools-view"],a)))+'\n\n<div role="main" class="photolist-container fluid-centered">\n	<div class="photolist-empty ',u=n.unless.call(t,t.isEmpty,{hash:{},inverse:c.noop,fn:c.program(1,h,i),data:i});if(u||u===0)s+=u;s+='">\n		',u=n["if"].call(t,t.isViewingSelf,{hash:{},inverse:c.program(5,d,i),fn:c.program(3,p,i),data:i});if(u||u===0)s+=u;return s+="\n	</div>\n\n	",a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t["photo-list-view"],a):f.call(t,"outlet",t["photo-list-view"],a)))+"\n	",a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t["pagination-view"],a):f.call(t,"outlet",t["pagination-view"],a)))+"\n</div>\n",a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t["signup-footer-view"],a):f.call(t,"outlet",t["signup-footer-view"],a)))+"\n",a={hash:{},data:i},s+=l((o=n.outlet||t.outlet,o?o.call(t,t["footer-full-view"],a):f.call(t,"outlet",t["footer-full-view"],a))),s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photostream-page",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-filter-modal",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a=n.helperMissing,f=this.escapeExpression;return s+='<div class="filter-modal">\n	<p>',u={hash:{intlName:"filter-bar.FILTER_MODAL_CONTENT_SORT"},data:i},s+=f((o=n.intlHTMLMessage||t.intlHTMLMessage,o?o.call(t,u):a.call(t,"intlHTMLMessage",u)))+"</p>\n	<p>",u={hash:{intlName:"filter-bar.FILTER_MODAL_CONTENT_FILTER"},data:i},s+=f((o=n.intlHTMLMessage||t.intlHTMLMessage,o?o.call(t,u):a.call(t,"intlHTMLMessage",u)))+'</p>\n	<div class="screenshot"></div>\n	<p class="pin-message">\n		<i class="pin"></i><span>',u={hash:{intlName:"filter-bar.FILTER_MODAL_PIN"},data:i},s+=f((o=n.intlHTMLMessage||t.intlHTMLMessage,o?o.call(t,u):a.call(t,"intlHTMLMessage",u)))+"</span>\n	</p>\n</div>\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/filter-modal",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-pagination-view",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function f(e,t){var r="",i;r+="\n\n	",i=n["if"].call(e,e.leftUrl,{hash:{},inverse:a.program(4,c,t),fn:a.program(2,l,t),data:t});if(i||i===0)r+=i;r+="\n	",i=n.each.call(e,e.pages,{hash:{},inverse:a.noop,fn:a.program(6,h,t),data:t});if(i||i===0)r+=i;r+="\n	",i=n["if"].call(e,e.rightUrl,{hash:{},inverse:a.program(16,y,t),fn:a.program(14,g,t),data:t});if(i||i===0)r+=i;return r+="\n\n",r}function l(e,t){var r="",i;return r+='\n		<a href="',(i=n.leftUrl)?i=i.call(e,{hash:{},data:t}):(i=e.leftUrl,i=typeof i===o?i.apply(e):i),r+=u(i)+'" rel="prev" data-track="paginationLeftClick"><span><i class="page-arrow"></i></span></a>\n	',r}function c(e,t){return'\n		<span class="disabled"><i class="page-arrow"></i></span>\n	'}function h(e,t){var r="",i;r+="\n		",i=n["if"].call(e,e.isMore,{hash:{},inverse:a.program(9,d,t),fn:a.program(7,p,t),data:t});if(i||i===0)r+=i;return r+="\n	",r}function p(e,t){return'\n			<span class="moredots">\u2022\u2022\u2022</span>\n		'}function d(e,t){var r="",i,s;r+='\n			<a href="'+u((i=e.url,typeof i===o?i.apply(e):i))+'" ',s=n["if"].call(e,e.rel,{hash:{},inverse:a.noop,fn:a.program(10,v,t),data:t});if(s||s===0)r+=s;r+=' data-track="pagination'+u((i=e.text,typeof i===o?i.apply(e):i))+'Click"><span',s=n["if"].call(e,e.isCurrent,{hash:{},inverse:a.noop,fn:a.program(12,m,t),data:t});if(s||s===0)r+=s;return r+=">"+u((i=e.text,typeof i===o?i.apply(e):i))+"</span></a>\n		",r}function v(e,t){var r="",i;return r+="rel='",(i=n.rel)?i=i.call(e,{hash:{},data:t}):(i=e.rel,i=typeof i===o?i.apply(e):i),r+=u(i)+"'",r}function m(e,t){return' class="is-current"'}function g(e,t){var r="",i;return r+='\n		<a href="',(i=n.rightUrl)?i=i.call(e,{hash:{},data:t}):(i=e.rightUrl,i=typeof i===o?i.apply(e):i),r+=u(i)+'" rel="next" data-track="paginationRightClick"><span><i class="page-arrow right"></i></span></a>\n	',r}function y(e,t){return'\n		<span class="disabled"><i class="page-arrow right"></i></span>\n	'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,o="function",u=this.escapeExpression,a=this;return s=n.unless.call(t,t.hide,{hash:{},inverse:a.noop,fn:a.program(1,f,i),data:i}),s||s===0?s:""}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/pagination-view",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("pagination-view",function(e){e.namespace("Views")[this.name]=e.Base.create("pagination-view",e.FlickrView,[],{initializer:function(e){return this.modelKey=e.pageParams&&e.pageParams.idAttribute?e[e.pageParams.idAttribute]:e.nsid,this.baseURL=e.baseURL.replace(/\/with\/[0-9]+/,""),this.modelRegistryName=e.modelRegistryName,this.maxNumAttrName=e.maxNumAttrName||"totalItems",this.pageParams=e.pageParams,this.fetchParams=e.fetchParams||{},this.paginationSuffix=e.paginationSuffix||"",this.hideMorePages=e.hideMorePages||!1,e.numMaxContiguousPages&&this.set("numMaxContiguousPages",e.numMaxContiguousPages),e.numStartEndPages&&this.set("numStartEndPages",e.numStartEndPages),this.appContext.getUA().isMobileBrowser&&this.set("numMaxContiguousPages",3),this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},loadState:function(){var e=this,t;return this.appContext.getModel(this.modelRegistryName,this.modelKey,this.fetchParams).then(function(n){e.model=n,e.numPages=Math.ceil(e.model.getValue(e.maxNumAttrName)/e.pageParams.viewPageSize),e.registerEventHandler(e.model.on("valuesChanged",function(n){n[e.maxNumAttrName]&&(t=Math.ceil(n[e.maxNumAttrName].newVal/e.pageParams.viewPageSize),t!==e.numPages&&(e.numPages=t,e.buildContainer()))}))})},buildContainer:function(){var e=[],t=this.baseURL+"page",n,r,i;return i=this.getPaginationURLs(),r=i.nextURL,n=i.prevURL,e=this.calcPages(t,i.getParamsInUrl),this.setContainerHTML(this.templates("pagination-view")({leftUrl:n,rightUrl:r,pages:e,hide:e.length===1})),this},buildHeadContainer:function(){var e,t,n,r,i="";if(!this.pageParams.nominalPage)return;r=this.getPaginationURLs(),e=r.canonicalURL,t=r.nextURL,n=r.prevURL,i+=this.templates("head-link")({rel:"canonical",href:e}),n&&(i+=this.templates("head-link")({rel:"prev",href:n})),t&&(i+=this.templates("head-link")({rel:"next",href:t})),this.set("headContainer",i),YUI.Env.isServer||this.updateHead()},getPaginationURLs:function(){var t=this.baseURL,n,r,i,s;return YUI.Env.isServer?this.paginationSuffix&&(s=this.paginationSuffix):s=e.config.win.location.search,s||(s=""),n=t+s,this.pageParams.nominalPage>1&&this.numPages>1&&(i=t+"page"+(this.pageParams.nominalPage-1).toString()+"/"+s),this.pageParams.nominalPage<this.numPages&&this.numPages>1&&(r=t+"page"+(this.pageParams.nominalPage+1).toString()+"/"+s),{canonicalURL:n,nextURL:r,prevURL:i,getParamsInUrl:s}},activate:function(){return this.registerEventHandler(e.globalEvents.subscribe("window:resize",this.handlePageResize.bind(this))),this},handlePageResize:function(){var t=e.config.win.innerWidth,n=this.get("numMaxContiguousPages"),r;t<=700?r=3:r=7,n!==r&&(this.set("numMaxContiguousPages",r),this.buildContainer())},calcPages:function(e,t){function u(r){var i=(r+1).toString(),s=n.pageParams.nominalPage===r+1,o=n.pageParams.nominalPage===r,u=n.pageParams.nominalPage===r+2;return{url:e+i+t,text:i,isMore:!1,isCurrent:s,rel:u?"prev":o?"next":null}}var n=this,r=[],i,s=this.get("numMaxContiguousPages"),o=this.get("numStartEndPages");if(this.numPages<=s)for(i=0;i<this.numPages;i++)r.push(u(i));else if(this.pageParams.nominalPage<=s-1){for(i=0;i<s;i++)r.push(u(i));if(!this.hideMorePages){this.numPages>s+o&&r.push({isMore:!0});for(i=Math.max(s,this.numPages-o);i<this.numPages;i++)r.push(u(i))}}else if(this.pageParams.nominalPage>this.numPages-(s-1)){if(!this.hideMorePages){for(i=0;i<Math.min(this.numPages-s,o);i++)r.push(u(i));this.numPages>s+o&&r.push({isMore:!0})}for(i=this.numPages-s;i<this.numPages;i++)r.push(u(i))}else{if(!this.hideMorePages){for(i=0;i<o;i++)r.push(u(i));r.push({isMore:!0})}for(i=this.pageParams.nominalPage-Math.ceil(s/2);i<this.pageParams.nominalPage+Math.floor(s/2);i++)r.push(u(i));if(!this.hideMorePages){r.push({isMore:!0});for(i=this.numPages-o;i<this.numPages;i++)r.push(u(i))}}return r}},{ATTRS:{numMaxContiguousPages:{value:7},numStartEndPages:{value:2}}})},"@VERSION@",{requires:["flickr-view","hermes-template-pagination-view","hermes-template-head-link","pagination-view-css"],optional:[]});
YUI.add("hermes-template-fluid-coverphoto",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function p(e,t){var n="",r;return n+='style="background-image:url('+l((r=(r=(r=e.coverPhoto,r==null||r===!1?r:r.urls),r==null||r===!1?r:r.h),typeof r===f?r.apply(e):r))+')"',n}function d(e,t){var r="",i,s;return r+='\n			<div class="cover-photo-edit" title="',s={hash:{intlName:"header.EDIT_COVER_PHOTO"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):c.call(e,"intlMessage",s)))+'" data-action="pick" data-track="headerEditCoverPhotoClick"></div>\n		',r}function v(e,t){var r="",i,s;return r+='\n			<div class="cover-photo-attribution"><a href="/photos/'+l((i=(i=(i=(i=e.coverPhoto,i==null||i===!1?i:i.attribution),i==null||i===!1?i:i.owner),i==null||i===!1?i:i.nsid),typeof i===f?i.apply(e):i))+"/"+l((i=(i=(i=e.coverPhoto,i==null||i===!1?i:i.attribution),i==null||i===!1?i:i.id),typeof i===f?i.apply(e):i))+'">',s={hash:{intlName:"groups.GROUPS_COVER_ATTRIBUTION",username:(i=(i=(i=e.coverPhoto,i==null||i===!1?i:i.attribution),i==null||i===!1?i:i.owner),i==null||i===!1?i:i.characterName)},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):c.call(e,"intlMessage",s)))+" </a></div>\n		",r}function m(e,t){var r="",i,s;r+='\n			<div class="avatar no-menu '+l((i=(i=e.avatar,i==null||i===!1?i:i.type),typeof i===f?i.apply(e):i))+" large ",s=n.unless.call(e,(i=e.avatar,i==null||i===!1?i:i.canEdit),{hash:{},inverse:h.noop,fn:h.program(8,g,t),data:t});if(s||s===0)r+=s;r+='" style="background-image: url('+l((i=(i=(i=e.avatar,i==null||i===!1?i:i.icon),i==null||i===!1?i:i.retina),typeof i===f?i.apply(e):i))+');">\n				',s=n["if"].call(e,(i=e.avatar,i==null||i===!1?i:i.canEdit),{hash:{},inverse:h.noop,fn:h.program(10,y,t),data:t});if(s||s===0)r+=s;return r+='\n				<div class="loading-overlay">\n					<div class="balls"></div>\n				</div>\n			</div>\n		',r}function g(e,t){return"no-edit"}function y(e,t){return'\n					<div class="edit" data-action="editAvatar" data-track="headerBuddyIconClick">\n						<span class="edit-icon"></span>\n					</div>\n				'}function b(e,t){var r="",i,s;r+='\n			<div class="avatar no-menu '+l((i=(i=e.avatar,i==null||i===!1?i:i.type),typeof i===f?i.apply(e):i))+' large" style="background-image: url('+l((i=(i=(i=e.avatar,i==null||i===!1?i:i.icon),i==null||i===!1?i:i.lowres),typeof i===f?i.apply(e):i))+');">\n				',s=n["if"].call(e,(i=e.avatar,i==null||i===!1?i:i.canEdit),{hash:{},inverse:h.noop,fn:h.program(10,y,t),data:t});if(s||s===0)r+=s;return r+='\n				<div class="loading-overlay">\n					<div class="balls"></div>\n				</div>\n			</div>\n		',r}function w(e,t){var r="",i,s;r+='\n				<div class="title">\n					',s=n["if"].call(e,(i=e.titleBlock,i==null||i===!1?i:i.titleLink),{hash:{},inverse:h.program(20,T,t),fn:h.program(15,E,t),data:t});if(s||s===0)r+=s;r+="\n					",s=n["if"].call(e,(i=e.titleBlock,i==null||i===!1?i:i.follow),{hash:{},inverse:h.noop,fn:h.program(25,k,t),data:t});if(s||s===0)r+=s;r+="\n					",s=n["if"].call(e,e["follow-view"],{hash:{},inverse:h.noop,fn:h.program(27,L,t),data:t});if(s||s===0)r+=s;r+="\n					",s=n["if"].call(e,(i=e.titleBlock,i==null||i===!1?i:i.curatorPassOver),{hash:{},inverse:h.noop,fn:h.program(29,A,t),data:t});if(s||s===0)r+=s;r+="\n				</div>\n\n				",s=n["if"].call(e,(i=e.titleBlock,i==null||i===!1?i:i.isPro),{hash:{},inverse:h.noop,fn:h.program(31,O,t),data:t});if(s||s===0)r+=s;r+="\n\n				",s=n["if"].call(e,(i=e.titleBlock,i==null||i===!1?i:i.subtitle),{hash:{},inverse:h.noop,fn:h.program(33,M,t),data:t});if(s||s===0)r+=s;return r+="\n			",r}function E(e,t){var r="",i,s;r+='\n						<h1 class="truncate">\n							<a class="unfluid" href="'+l((i=(i=e.titleBlock,i==null||i===!1?i:i.titleLink),typeof i===f?i.apply(e):i))+'">\n								',s=n["if"].call(e,(i=e.titleBlock,i==null||i===!1?i:i.isGroup),{hash:{},inverse:h.program(18,x,t),fn:h.program(16,S,t),data:t});if(s||s===0)r+=s;return r+="\n							</a>\n						</h1>\n					",r}function S(e,t){var r="",i,s;return r+="\n									",s={hash:{},data:t},r+=l((i=n.renderTrustedMarkup||e.renderTrustedMarkup,i?i.call(e,(i=e.titleBlock,i==null||i===!1?i:i.title),s):c.call(e,"renderTrustedMarkup",(i=e.titleBlock,i==null||i===!1?i:i.title),s)))+"\n								",r}function x(e,t){var n="",r;return n+="\n									"+l((r=(r=e.titleBlock,r==null||r===!1?r:r.title),typeof r===f?r.apply(e):r))+"\n								",n}function T(e,t){var r="",i,s;r+='\n						<h1 class="truncate">\n							',s=n["if"].call(e,(i=e.titleBlock,i==null||i===!1?i:i.isGroup),{hash:{},inverse:h.program(23,C,t),fn:h.program(21,N,t),data:t});if(s||s===0)r+=s;return r+="\n						</h1>\n					",r}function N(e,t){var r="",i,s;return r+="\n								",s={hash:{},data:t},r+=l((i=n.renderTrustedMarkup||e.renderTrustedMarkup,i?i.call(e,(i=e.titleBlock,i==null||i===!1?i:i.title),s):c.call(e,"renderTrustedMarkup",(i=e.titleBlock,i==null||i===!1?i:i.title),s)))+"\n							",r}function C(e,t){var n="",r;return n+="\n								"+l((r=(r=e.titleBlock,r==null||r===!1?r:r.title),typeof r===f?r.apply(e):r))+"\n							",n}function k(e,t){var r,i;return i={hash:{},data:t},l((r=n.outlet||e.outlet,r?r.call(e,(r=e.titleBlock,r==null||r===!1?r:r.follow),i):c.call(e,"outlet",(r=e.titleBlock,r==null||r===!1?r:r.follow),i)))}function L(e,t){var r,i;return i={hash:{},data:t},l((r=n.outlet||e.outlet,r?r.call(e,e["follow-view"],i):c.call(e,"outlet",e["follow-view"],i)))}function A(e,t){var r,i;return i={hash:{},data:t},l((r=n.outlet||e.outlet,r?r.call(e,(r=e.titleBlock,r==null||r===!1?r:r.curatorPassOver),i):c.call(e,"outlet",(r=e.titleBlock,r==null||r===!1?r:r.curatorPassOver),i)))}function O(e,t){return'\n					<span class="pro-badge-inline dark">PRO</span>\n				'}function M(e,t){var n="",r;return n+='\n					<p class="subtitle truncate">'+l((r=(r=e.titleBlock,r==null||r===!1?r:r.subtitle),typeof r===f?r.apply(e):r))+"</p>\n				",n}function _(e,t){var r="",i;r+="\n				",i=n["if"].call(e,e.contacts,{hash:{},inverse:h.noop,fn:h.program(36,D,t),data:t});if(i||i===0)r+=i;r+="\n				"
,i=n["if"].call(e,e.groupsStats,{hash:{},inverse:h.noop,fn:h.program(44,F,t),data:t});if(i||i===0)r+=i;return r+="\n			",r}function D(e,t){var r="",i;r+="\n					",i=n["if"].call(e,e.viewingSelf,{hash:{},inverse:h.program(39,H,t),fn:h.program(37,P,t),data:t});if(i||i===0)r+=i;return r+="\n				",r}function P(e,t){var r="",i;return r+='\n						<p class="followers truncate"><a href="',(i=n.followerUrl)?i=i.call(e,{hash:{},data:t}):(i=e.followerUrl,i=typeof i===f?i.apply(e):i),r+=l(i)+'">',(i=n.followerString)?i=i.call(e,{hash:{},data:t}):(i=e.followerString,i=typeof i===f?i.apply(e):i),r+=l(i)+'</a><em>&bull;</em><a href="',(i=n.followingUrl)?i=i.call(e,{hash:{},data:t}):(i=e.followingUrl,i=typeof i===f?i.apply(e):i),r+=l(i)+'">',(i=n.followingString)?i=i.call(e,{hash:{},data:t}):(i=e.followingString,i=typeof i===f?i.apply(e):i),r+=l(i)+"</a></p>\n					",r}function H(e,t){var r="",i,s,o;r+="\n						",o={hash:{},inverse:h.program(42,j,t),fn:h.program(40,B,t),data:t},s=(i=n.ifCond||e.ifCond,i?i.call(e,e.followingCount,">",0,o):c.call(e,"ifCond",e.followingCount,">",0,o));if(s||s===0)r+=s;return r+="\n					",r}function B(e,t){var r="",i;return r+='\n							<p class="followers truncate">',(i=n.followerString)?i=i.call(e,{hash:{},data:t}):(i=e.followerString,i=typeof i===f?i.apply(e):i),r+=l(i)+'<em>&bull;</em><a href="',(i=n.followingUrl)?i=i.call(e,{hash:{},data:t}):(i=e.followingUrl,i=typeof i===f?i.apply(e):i),r+=l(i)+'">',(i=n.followingString)?i=i.call(e,{hash:{},data:t}):(i=e.followingString,i=typeof i===f?i.apply(e):i),r+=l(i)+"</a></p>\n						",r}function j(e,t){var r="",i;return r+='\n							<p class="followers truncate">',(i=n.followerString)?i=i.call(e,{hash:{},data:t}):(i=e.followerString,i=typeof i===f?i.apply(e):i),r+=l(i)+"<em>&bull;</em>",(i=n.followingString)?i=i.call(e,{hash:{},data:t}):(i=e.followingString,i=typeof i===f?i.apply(e):i),r+=l(i)+"</p>\n						",r}function F(e,t){var r="",i,s,o;return r+='\n					<p class="followers truncate"><a href="',(i=n.membersLink)?i=i.call(e,{hash:{},data:t}):(i=e.membersLink,i=typeof i===f?i.apply(e):i),r+=l(i)+'">',(i=n.members)?i=i.call(e,{hash:{},data:t}):(i=e.members,i=typeof i===f?i.apply(e):i),r+=l(i)+" ",o={hash:{intlName:"header.MEMBERS"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,o):c.call(e,"intlMessage",o)))+'</a><em>&bull;</em></p>\n					<p class="followers truncate"><a href="',(s=n.poolLink)?s=s.call(e,{hash:{},data:t}):(s=e.poolLink,s=typeof s===f?s.apply(e):s),r+=l(s)+'">',(s=n.photosText)?s=s.call(e,{hash:{},data:t}):(s=e.photosText,s=typeof s===f?s.apply(e):s),r+=l(s)+'</a><em>&bull;</em></p>\n					<p class="followers truncate"><a href="',(s=n.discussionsLink)?s=s.call(e,{hash:{},data:t}):(s=e.discussionsLink,s=typeof s===f?s.apply(e):s),r+=l(s)+'"> ',(s=n.topicCount)?s=s.call(e,{hash:{},data:t}):(s=e.topicCount,s=typeof s===f?s.apply(e):s),r+=l(s)+" ",o={hash:{intlName:"header.DISCUSSIONS"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,o):c.call(e,"intlMessage",o)))+"</a></p>\n				",r}function I(e,t){var r="",i;r+="\n				",i=n["if"].call(e,e.hasLocation,{hash:{},inverse:h.noop,fn:h.program(47,q,t),data:t});if(i||i===0)r+=i;r+="\n				",i=n["if"].call(e,e.photos,{hash:{},inverse:h.noop,fn:h.program(49,R,t),data:t});if(i||i===0)r+=i;r+="\n				",i=n["if"].call(e,e.memberSince,{hash:{},inverse:h.noop,fn:h.program(51,U,t),data:t});if(i||i===0)r+=i;r+="\n				",i=n["if"].call(e,e.groupSince,{hash:{},inverse:h.noop,fn:h.program(53,z,t),data:t});if(i||i===0)r+=i;return r+="\n			",r}function q(e,t){var r="",i;return r+='<p class="truncate">',(i=n.location)?i=i.call(e,{hash:{},data:t}):(i=e.location,i=typeof i===f?i.apply(e):i),r+=l(i)+"</p>",r}function R(e,t){var r="",i,s;return r+='<p class="photo-count">',s={hash:{intlName:"header.COUNT_PHOTOS",count:e.count},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):c.call(e,"intlMessage",s)))+"</p>",r}function U(e,t){var r="",i,s;return r+="<p>",s={hash:{intlName:"header.JOINED_YEAR",year:e.date},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):c.call(e,"intlMessage",s)))+"</p>",r}function z(e,t){var r="",i,s;return r+="<p>",(i=n.count)?i=i.call(e,{hash:{},data:t}):(i=e.count,i=typeof i===f?i.apply(e):i),r+=l(i)+" ",s={hash:{intlName:"header.GROUP_SINCE"},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):c.call(e,"intlMessage",s)))+" ",s={hash:{intlName:"header.MDY_DATE",mdyDate:e.date},data:t},r+=l((i=n.intlMessage||e.intlMessage,i?i.call(e,s):c.call(e,"intlMessage",s)))+"</p>",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f="function",l=this.escapeExpression,c=n.helperMissing,h=this;s+='<div class="coverphoto" ',o=n["if"].call(t,t.coverPhoto,{hash:{},inverse:h.noop,fn:h.program(1,p,i),data:i});if(o||o===0)s+=o;s+='>\n	<div class="editor-controls">\n		<button data-action="saveEdit" class="butt">',a={hash:{intlName:"common.SAVE"},data:i},s+=l((o=n.intlMessage||t.intlMessage,o?o.call(t,a):c.call(t,"intlMessage",a)))+'</button>\n		<button data-action="cancelEdit" class="butt alt">',a={hash:{intlName:"common.CANCEL"},data:i},s+=l((o=n.intlMessage||t.intlMessage,o?o.call(t,a):c.call(t,"intlMessage",a)))+"</button>\n		<p>",a={hash:{intlName:"header.COVER_PHOTO_SET_POSITION"},data:i},s+=l((o=n.intlMessage||t.intlMessage,o?o.call(t,a):c.call(t,"intlMessage",a)))+'</p>\n	</div>\n	<div class="balls"></div>\n	<div class="coverphoto-gradient">\n	</div>\n	<div class="coverphoto-content fluid-centered">\n		',u=n["if"].call(t,(o=t.coverPhoto,o==null||o===!1?o:o.canEdit),{hash:{},inverse:h.noop,fn:h.program(3,d,i),data:i});if(u||u===0)s+=u;s+="\n		",u=n["if"].call(t,(o=(o=t.coverPhoto,o==null||o===!1?o:o.attribution),o==null||o===!1?o:o.id),{hash:{},inverse:h.noop,fn:h.program(5,v,i),data:i});if(u||u===0)s+=u;s+="\n\n		",u=n["if"].call(t,(o=(o=t.avatar,o==null||o===!1?o:o.icon),o==null||o===!1?o:o.retina),{hash:{},inverse:h.program(12,b,i),fn:h.program(7,m,i),data:i});if(u||u===0)s+=u;s+='\n		<div class="title-block-content">\n			'
,u=n["if"].call(t,t.titleBlock,{hash:{},inverse:h.noop,fn:h.program(14,w,i),data:i});if(u||u===0)s+=u;s+="\n\n			\n			",u=n.each.call(t,t.metadata,{hash:{},inverse:h.noop,fn:h.program(35,_,i),data:i});if(u||u===0)s+=u;s+='\n		</div>\n\n		\n		<div class="metadata-content">\n			',u=n.each.call(t,t.metadata,{hash:{},inverse:h.noop,fn:h.program(46,I,i),data:i});if(u||u===0)s+=u;return s+="\n		</div>\n	</div>\n</div>\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/fluid-coverphoto",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-fluid-avatar-editor",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="avatar-editor-container" style="height:',(o=n.contentHeight)?o=o.call(t,{hash:{},data:i}):(o=t.contentHeight,o=typeof o===u?o.apply(t):o),s+=a(o)+'px">\n	<div class="avatar-clip">\n		<div class="avatar-image"></div>\n	</div>\n\n	<div class="controls-area">\n		<div class="zoom-controls">\n			<p class="zoom-minus"></p>\n			<p class="zoom-plus"></p>\n\n			<div class="zoom-handle"></div>\n\n			<div class="zoom-guide"><span class="low-quality-zone"></span></div>\n		</div>\n	</div>\n\n	<div class="avatar-background">\n	</div>\n</div>',s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/fluid-avatar-editor",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("fluid-avatar-editor-view",function(e){"use strict";var t={dragging:{mouseDownX:0,mouseDownY:0,previousX:0,previousY:0,centerX:0,centerY:0,startDrag:!1,overlayDiameter:0},zoom:{scale:1,scaleFactor:1,mouseDownX:0,previousX:0,startDrag:!1,midpoint:0,height:0,width:0,max:0,min:0,isLowQuality:!1},potential:{height:0,width:0,url:"",x:0,y:0},original:{x:0,y:0}},n=10,r=.25;e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.set("photoModel",e.photoModel),this.contentHeight=e.contentHeight,t.zoom.scale=1,t.dragging.startDrag=!1,t.zoom.startDrag=!1,this},loadState:function(){return e.Promise.resolve()},buildContainer:function(e){return this.setContainerHTML(this.templates("fluid-avatar-editor")({contentHeight:this.contentHeight})),this},activate:function(){return this.avatarBackground=this.get("container").one(".avatar-background"),this.avatarFocus=this.get("container").one(".avatar-image"),this.zoomHandle=this.get("container").one(".zoom-handle"),this.containerWidth=this.get("container").get("offsetWidth"),this.containerHeight=this.get("container").get("offsetHeight"),this.loadAvatarPhoto(),this},showTooltip:function(){this.zoomTooltip||(this.zoomTooltip=new e.Views.FluidDroparound({appContext:this.appContext,dismissOnOverlayClick:!1,dismissOnActionClick:!1,showDropArrow:!0,width:150,anchorElement:this.zoomHandle,textMessage:this.intlMessage({intlName:"header.MIN_ZOOM"}),invisibleOverlay:!0,anchorOffsetHorizontal:11,classList:"over-modal",overlayClassList:"over-modal"})),this.zoomTooltip.show()},hideTooltip:function(){this.zoomTooltip&&!this.zoomTooltip.isClosed&&this.zoomTooltip.close()},loadAvatarPhoto:function(){var e=new Image,n;e.onload=this.handleImageLoad.bind(this),n=this.get("photoModel").getLargestSize(),t.potential.width=n.width,t.potential.height=n.height,t.potential.url=n.url,t.zoom.width=n.width*t.zoom.scale,t.zoom.height=n.height*t.zoom.scale,e.src=n.url,(e.complete||e.onloadFired)&&this.handleImageLoad()},handleImageLoad:function(){var e=this.get("container"),n=e.one(".avatar-clip");t.dragging.centerX=(t.potential.width/2-this.containerWidth/2)*-1,t.dragging.centerY=(t.potential.height/2-this.containerHeight/2)*-1,t.dragging.overlayDiameter=parseInt(n.getStyle("width"),10)/2,this.offsetLeft=this.containerWidth/2-t.dragging.overlayDiameter,this.offsetTop=this.containerHeight/2-t.dragging.overlayDiameter,t.potential.x=t.dragging.centerX,t.potential.y=t.dragging.centerY,t.original.x=t.dragging.centerX,t.original.y=t.dragging.centerY,this.saveParamsForAPI(),e.one(".avatar-image").setStyles({backgroundImage:"url("+t.potential.url+")",width:t.potential.width+"px",height:t.potential.height+"px",left:t.dragging.centerX+this.offsetLeft*-1+"px",top:t.dragging.centerY+this.offsetTop*-1+"px"}),e.one(".avatar-background").setStyles({backgroundImage:"url("+t.potential.url+")",width:t.potential.width+"px",height:t.potential.height+"px",left:t.dragging.centerX+"px",top:t.dragging.centerY+"px"}),this.setupEventListeners(),this.setupZoomHandler()},setupEventListeners:function(){var n=this.get("container"),r=n.one(".avatar-background"),i=n.one(".avatar-image"),s=n.one(".controls-area"),o=this;this.registerEventHandler(r.on("mousedown",function(e){e.halt(),t.dragging.mouseDownY=e.pageY,t.dragging.mouseDownX=e.pageX,t.dragging.previousY=parseInt(r.getStyle("top"),10),t.dragging.previousX=parseInt(r.getStyle("left"),10),t.dragging.startDrag=!0,r.addClass("grabbing"),s.addClass("clickthrough")})),this.registerEventHandler(r.on("mousemove",function(e){e.halt();if(!t.dragging.startDrag)return;var n=t.dragging.mouseDownY-e.pageY,s=t.dragging.mouseDownX-e.pageX,u=t.dragging.previousY-n,a=t.dragging.previousX-s,f=o.snapFocusToFit(a,u);a=f.x,u=f.y,t.potential.x=a,t.potential.y=u,t.original.x=(o.containerWidth-o.containerWidth/t.zoom.scale)/2+t.potential.x/t.zoom.scale,t.original.y=(o.containerHeight-o.containerHeight/t.zoom.scale)/2+t.potential.y/t.zoom.scale,o.saveParamsForAPI(),r.setStyle("left",a),r.setStyle("top",u),i.setStyle("left",a+o.offsetLeft*-1),i.setStyle("top",u+o.offsetTop*-1)})),this.registerEventHandler(e.one("body").on("mouseup",function(){t.dragging.startDrag=!1,r.removeClass("grabbing"),s.removeClass("clickthrough")})),this.registerEventHandler(r.on("mouseup",function(){t.dragging.startDrag=!1,r.removeClass("grabbing"),s.removeClass("clickthrough")}))},determineBoundaries:function(){return{minX:t.dragging.centerX+t.zoom.width/2-t.dragging.overlayDiameter,minY:t.dragging.centerY+t.zoom.height/2-t.dragging.overlayDiameter,maxX:t.dragging.centerX-t.zoom.width/2+t.dragging.overlayDiameter,maxY:t.dragging.centerY-t.zoom.height/2+t.dragging.overlayDiameter}},snapFocusToFit:function(e,t){var n=this.determineBoundaries();return e=e<=n.minX?e:n.minX,e=e>=n.maxX?e:n.maxX,t=t<=n.minY?t:n.minY,t=t>=n.maxY?t:n.maxY,{x:e,y:t}},setupZoomHandler:function(){var n=this,i=this.get("container"),s=i.one(".controls-area"),o=i.one(".zoom-controls"),u=i.one(".zoom-plus"),a=i.one(".zoom-minus"),f;t.zoom.max=parseInt(o.get("offsetWidth"),10)-parseInt(this.zoomHandle.get("offsetWidth"),10),t.zoom.previousX=parseInt(this.zoomHandle.getStyle("left"),10),t.zoom.scaleFactor=1/(t.zoom.max/4),t.zoom.midpoint=t.zoom.max/2,f=Math.max(t.dragging.overlayDiameter*2/t.potential.width,t.dragging.overlayDiameter*2/t.potential.height),t.zoom.min=(f-r)*2/t.zoom.scaleFactor,t.zoom.min>t.zoom.max&&(t.zoom.isLowQuality=!0,this.zoomHandle.setStyle("left",t.zoom.max)),i.one(".low-quality-zone").setStyle("width",Math.min(t.zoom.min,t.zoom.max)),t.zoom.scale=Math.max(t.zoom.min,t.zoom.midpoint)*t.zoom.scaleFactor/2+r,this.updateImageScale(),this.registerEventHandler(this.zoomHandle.on("mousedown",this.onZoomBarClicked.bind(this))),this.registerEventHandler(s.on("mousemove",this.onZoomBarMoved.bind(this))),this.registerEventHandler(u.on("click",this.zoomByIncrement.bind(this))),this.registerEventHandler(a.on("click",this.zoomByIncrement.bind(this))),this.registerEventHandler
(i.on("mouseup",function(e){e.halt(),t.zoom.startDrag=!1,n.zoomHandle.removeClass("dragging")})),this.registerEventHandler(e.one("body").on("mouseup",function(e){e.halt(),t.zoom.startDrag=!1,n.zoomHandle.removeClass("dragging")}))},onZoomBarClicked:function(e){e.halt(),t.zoom.mouseDownX=e.pageX,t.zoom.startDrag=!0,t.zoom.previousX=parseInt(this.zoomHandle.getStyle("left"),10),this.zoomHandle.addClass("dragging")},onZoomBarMoved:function(e){e.halt();if(!t.zoom.startDrag)return;var n=t.zoom.mouseDownX-e.pageX,i=t.zoom.previousX-n;i=i<=t.zoom.min?t.zoom.min:i,i=i>=t.zoom.max?t.zoom.max:i,t.zoom.scale=i*t.zoom.scaleFactor/2+r;if(i<=t.zoom.min&&t.zoom.isLowQuality){this.showTooltip();return}i===t.zoom.min?this.showTooltip():this.hideTooltip(),this.zoomHandle.setStyle("left",i),this.updateImageScale()},zoomByIncrement:function(e){var i,s=parseInt(this.zoomHandle.getStyle("left"));if(!e)return;e.halt(),e.target.hasClass("zoom-plus")?i=s+parseInt(t.zoom.max/n):e.target.hasClass("zoom-minus")&&(i=s-parseInt(t.zoom.max/n)),i=i<=t.zoom.min?t.zoom.min:i,i=i>=t.zoom.max?t.zoom.max:i;if(i<=t.zoom.min&&t.zoom.isLowQuality){this.showTooltip();return}i===t.zoom.min?this.showTooltip():this.hideTooltip(),t.zoom.previousX=i,t.zoom.scale=i*t.zoom.scaleFactor/2+r,this.zoomHandle.setStyle("left",i),this.updateImageScale()},updateImageScale:function(){var e,n,r;t.zoom.width=t.potential.width*t.zoom.scale,t.zoom.height=t.potential.height*t.zoom.scale,t.dragging.centerX=(t.zoom.width/2-this.containerWidth/2)*-1,t.dragging.centerY=(t.zoom.height/2-this.containerHeight/2)*-1,e=(this.containerWidth-this.containerWidth*t.zoom.scale)/2+t.original.x*t.zoom.scale,n=(this.containerHeight-this.containerHeight*t.zoom.scale)/2+t.original.y*t.zoom.scale,r=this.snapFocusToFit(e,n),e=r.x,n=r.y,t.potential.x=e,t.potential.y=n,this.saveParamsForAPI(),this.avatarBackground.setStyles({width:t.zoom.width+"px",height:t.zoom.height+"px",left:e+"px",top:n+"px"}),this.avatarFocus.setStyles({width:t.zoom.width+"px",height:t.zoom.height+"px",left:e+this.offsetLeft*-1+"px",top:n+this.offsetTop*-1+"px"})},saveParamsForAPI:function(){var n=t.zoom.width/2-(t.potential.x-t.dragging.centerX),r=t.zoom.height/2-(t.potential.y-t.dragging.centerY);n/=t.zoom.scale,r/=t.zoom.scale,this.set("apiParams",{x1:parseInt(n-t.dragging.overlayDiameter/t.zoom.scale),x2:parseInt(n+t.dragging.overlayDiameter/t.zoom.scale),y1:parseInt(r-t.dragging.overlayDiameter/t.zoom.scale),y2:parseInt(r+t.dragging.overlayDiameter/t.zoom.scale),url:e.URLHelper.addProtocolToURL(t.potential.url)})},destructor:function(){return this.hideTooltip(),this.constructor.superclass.destroy.call(this)}})},"@VERSION@",{requires:["flickr-view","flickr-promise","fluid-css","hermes-template-fluid-avatar-editor","fluid-avatar-editor-css","url-helper","fluid-droparound-view"],langBundles:["header"]});
YUI.add("hermes-lang-header",function(e,t){e.Intl.add("hermes/header","en-US",{EDIT_COVER_PHOTO:["Edit cover photo"],PHOTOSTREAM:["Photostream"],ALBUMS:["Albums"],FAVORITES:["Favorites"],CREATIONS:["Creations"],PHOTO_BOOKS:["Photo Books"],EDIT:["Edit"],PUBLIC:["Public"],ALL:["All"],CHANGE_YOUR_BUDDY_ICON:["Change your Buddy Icon"],CHANGE_YOUR_GROUP_ICON:["Change your group icon"],MEMBER_SINCE:["Member Since"],GROUP_SINCE:["Group Since"],MDY_DATE:[{type:"date",valueName:"mdyDate",format:"medium"}],PHOTOS:["Photos"],VIEWS:["Views"],VIEW_ALL_ALBUMS:["View all albums"],SEND_FLICKR_MAIL:["Send FlickrMail"],BLOCK:["Block"],USERS_GOD_PAGE:["User's God Page"],GROUP_GOD_PAGE:["God"],ADMINISTRATION:["Administration"],DISCUSSIONS:["Discussions"],MEMBERS:["Members"],MAP:["Map"],ABOUT:["About"],INVITE:["Invite Friends"],OVERVIEW:["Overview"],FULLSCREEN:["Fullscreen"],SHARE_THIS_PAGE:["Share this page"],COMMENT:["Comment"],MORE_ACTIONS:["More actions"],THUMBNAIL_VIEW:["Thumbnail view"],GROUP_LIST:["Group List"],CREATE_GROUP:["Create Group"],COVER_PHOTO_CHOOSE:["Choose Cover Photo"],COVER_PHOTO_UPLOAD:["Upload a photo"],COVER_PHOTO_SET_POSITION:["Drag to set position!"],COVER_PHOTO_SAVE:["Save"],COVER_PHOTO_CANCEL:["Cancel"],COVER_PHOTO_LIST_ERROR:["We're having some trouble listing your photos. Try again in a few seconds."],COVER_PHOTO_SELECT_ERROR:["We're having some trouble selecting that photo. Try again in a few seconds."],COVER_PHOTO_POSITION_ERROR:["We're having some trouble positioning that photo. Try again in a few seconds."],COVER_PHOTO_LOW_RESOLUTION:["This photo is small and may not look great as a coverphoto."],COVER_PHOTO_NO_PHOTOS:["Uh oh! No photos here.<br/>What? Do we have to take them for you, too?"],GROUPS_HEADER:["Your Groups"],GROUP_JOIN:["Join Group"],GROUP_JOINED:["Joined"],GROUP_JOIN_REQUESTED:["Join Requested"],GROUP_LEAVE_GROUP:["Leave Group"],GROUPS_OPT_OUT_MESSAGE:["You are viewing the beta version of our new groups experience. Click here to return to the old version."],GROUPS_OPT_IN_MESSAGE:["Go back to the beta groups experience."],STEAMPUNK_OCTOPUS:["Steampunk Octopus"],FOLLOWERS:[{type:"plural",valueName:"count",options:{one:"${#} Follower",other:"${#} Followers"}}],FOLLOWING:[{type:"plural",valueName:"count",options:{one:"${#} Following",other:"${#} Following"}}],FOLLOWERS_SIMPLE:["Followers"],FOLLOWING_SIMPLE:["Following"],JOINED_YEAR:["Joined ","${year}"],COUNT_PHOTOS:[{type:"plural",valueName:"count",options:{one:"${#} Photo",other:"${#} Photos"}}],GUESTPASS_HISTORY:["Sharing history"],POSITION_IMAGE:["Position your image"],MIN_ZOOM:["You can't zoom out anymore for this image"]})},"@VERSION@",{requires:["intl"]});
YUI.add("html-file-dragdrop",function(e){"use strict";var t="htmlFileDragDrop",n=t+"-drag-over",r=t+"-error",i=["image/png","image/jpeg"];e.HtmlFileDragDrop=function(t){e.config.win.File&&e.config.win.FileList&&e.config.win.FileReader&&t.dropZone&&(this.dropZone=e.one(t.dropZone),this.dropZone.on("dragover",this.handleDragOver.bind(this)),this.dropZone.on("dragleave",this.handleDragLeave.bind(this)),this.dropZone.on("drop",this.handleDrop.bind(this)))},e.HtmlFileDragDrop.prototype.reset=function(){this.dropZone.removeClass(r),this.dropZone.removeClass(n)},e.HtmlFileDragDrop.prototype.handleDragOver=function(e){e.halt(),this.reset(),this.dropZone.addClass(n)},e.HtmlFileDragDrop.prototype.handleDragLeave=function(e){e.halt(),this.reset()},e.HtmlFileDragDrop.prototype.showError=function(){this.dropZone.addClass(r)},e.HtmlFileDragDrop.prototype.handleDrop=function(e){var t,s;e.halt(),this.dropZone.removeClass(n),t=e._event.dataTransfer.files;if(t.length>1){this.dropZone.addClass(r),this.fire("drop",new Error("FILE_COUNT"));return}s=e._event.dataTransfer.files[0];if(s&&s.name){if(i.indexOf(s.type)<0){this.fire("drop",new Error("FILE_TYPE"));return}this.fire("drop",s)}},e.augment(e.HtmlFileDragDrop,e.EventTarget,!0,null,{prefix:t})},"@VERSION@",{affinity:"",requires:["event-custom"],optional:[]});
YUI.add("hermes-template-photo-selector",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function p(e,t){return'\n		<div class="photo-selector-search-list-yours">\n			<div class="photo-selector-search-list">\n				<div class="photo-selector-search-list-container">\n				</div>\n			</div>\n		</div>\n	'}function d(e,t){return'\n		<div class="photo-selector-search-list-contacts">\n			<div class="photo-selector-search-list">\n				<div class="photo-selector-search-list-container">\n				</div>\n			</div>\n		</div>\n	'}function v(e,t){return'\n		<div class="photo-selector-search-list-everyone">\n			<div class="photo-selector-search-list">\n				<div class="photo-selector-search-list-container">\n				</div>\n			</div>\n		</div>\n	'}function m(e,t){return'\n		<div class="photo-selector-search-list-marketplace"\n			<div class="photo-selector-search-list">\n				<div class="photo-selector-search-list-container">\n				</div>\n			</div>\n		</div>\n	'}function g(e,t){var r="",i;r+='\n<div class="marketplace-category-wrapper is-hiding">\n	',i=n.each.call(e,e.marketplaceCategories,{hash:{},inverse:c.noop,fn:c.program(10,y,t),data:t});if(i||i===0)r+=i;return r+="\n</div>\n",r}function y(e,t){var r="",i;return r+='\n		<div class="avatar album landscape double-large marketplace marketplace-category ',(i=n.className)?i=i.call(e,{hash:{},data:t}):(i=e.className,i=typeof i===f?i.apply(e):i),r+=l(i)+'" data-title="',(i=n.displayName)?i=i.call(e,{hash:{},data:t}):(i=e.displayName,i=typeof i===f?i.apply(e):i),r+=l(i)+'" data-value="',(i=n.id)?i=i.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===f?i.apply(e):i),r+=l(i)+'">\n			<sup class="',(i=n.className)?i=i.call(e,{hash:{},data:t}):(i=e.className,i=typeof i===f?i.apply(e):i),r+=l(i)+'">',(i=n.displayName)?i=i.call(e,{hash:{},data:t}):(i=e.displayName,i=typeof i===f?i.apply(e):i),r+=l(i)+"</sup>\n		</div>\n	",r}function b(e,t){var r="",i,s;return r+='\n<div class="photo-selector-upload is-hiding">\n	<p class="upload-error"></p>\n	<div class="drop-zone">\n		<div class="drop-zone-content">\n			<div class="balls"></div>\n			<input type="file" class="file-select" name="file-select" accept="image/jpeg, image/png" />\n			<p><i class="upload-icon"></i>',s={hash:{intlName:"wallart.DRAG_DROP_TO_UPLOAD"},data:t},r+=l((i=n.intlHTMLMessage||e.intlHTMLMessage,i?i.call(e,s):h.call(e,"intlHTMLMessage",s)))+"</p>\n			<p>",s={hash:{intlName:"wallart.PHOTOS_UPLOADED_AS_PRIVATE"},data:t},r+=l((i=n.intlHTMLMessage||e.intlHTMLMessage,i?i.call(e,s):h.call(e,"intlHTMLMessage",s)))+'</p>\n		</div>\n	</div>\n	<ul class="preview"></ul>\n</div>\n',r}function w(e,t){return'\n<div class="group-photo-selector-photos-wrapper">\n	<div class="group-photo-selector-photos photo-selector-photos">\n		<div class="group-photo-selector-photos-container">\n		</div>\n	</div>\n</div>\n'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.helperMissing;s+='<div class="photo-selector-title-bar hidden">\n	<div class="back-to-list">',a={hash:{intlName:"common.PHOTO_SELECTOR_BACK_TO_ALBUM_LIST"},data:i},s+=l((o=n.intlMessage||t.intlMessage,o?o.call(t,a):h.call(t,"intlMessage",a)))+'</div>\n	<div class="title"></div>\n</div>\n\n<div class="photo-selector-photos-wrapper">\n	<div class="photo-selector-photos">\n		<div class="photo-selector-photos-container">\n		</div>\n		<div class="loader"><div class="balls"></div></div>\n	</div>\n</div>\n\n<div class="photo-selector-search-lists-wrapper is-hiding">\n	',u=n["if"].call(t,(o=t.searchable,o==null||o===!1?o:o.yours),{hash:{},inverse:c.noop,fn:c.program(1,p,i),data:i});if(u||u===0)s+=u;s+="\n\n	",u=n["if"].call(t,(o=t.searchable,o==null||o===!1?o:o.contacts),{hash:{},inverse:c.noop,fn:c.program(3,d,i),data:i});if(u||u===0)s+=u;s+="\n\n	",u=n["if"].call(t,(o=t.searchable,o==null||o===!1?o:o.everyone),{hash:{},inverse:c.noop,fn:c.program(5,v,i),data:i});if(u||u===0)s+=u;s+="\n\n	",u=n["if"].call(t,(o=t.searchable,o==null||o===!1?o:o.marketplace),{hash:{},inverse:c.noop,fn:c.program(7,m,i),data:i});if(u||u===0)s+=u;s+="\n</div>\n\n",u=n["if"].call(t,t.enableMarketplaceProducts,{hash:{},inverse:c.noop,fn:c.program(9,g,i),data:i});if(u||u===0)s+=u;s+="\n\n",u=n["if"].call(t,t.hasUploadCapabilities,{hash:{},inverse:c.noop,fn:c.program(12,b,i),data:i});if(u||u===0)s+=u;s+="\n\n",u=n["if"].call(t,t.hasGroupCapabilities,{hash:{},inverse:c.noop,fn:c.program(14,w,i),data:i});if(u||u===0)s+=u;return s+="\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-selector",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-photo-list-demo-subview",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,o,u=n.helperMissing,a=this.escapeExpression;return o={hash:{},data:i},a((s=n.outlet||t.outlet,s?s.call(t,t["photo-list-view"],o):u.call(t,"outlet",t["photo-list-view"],o)))}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-list-demo-subview",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("photo-selector-photolist-view",function(e){e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{initializer:function(t){return t.photolistViewClasses&&(t.additionalViewClasses=t.photolistViewClasses),t.photoListConfig=e.merge(t.primaryPhotoListConfig),this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},subviewConfig:{"photo-list-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0}},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var e=this.templates("photo-list-demo-subview")({"photo-list-view":this.subviews["photo-list-view"].get("container")});return this.setContainerHTML(e),this},activate:function(){return this}})},"@VERSION@",{requires:["flickr-view","photo-list-view","hermes-template-photo-list-demo-subview"]});
YUI.add("photo-selector-limited-rows-photolist-view",function(e){e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return t.photolistViewClasses&&(t.additionalViewClasses=t.photolistViewClasses),t.photoListConfig=e.merge(t.primaryPhotoListConfig),this.searchUrl=t.searchUrl,this.listId=t.listId,this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},subviewConfig:{"photo-list-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0}},loadState:function(){return this.appContext.getModel("search-photos-lite-models",this.searchUrl.getId(),{}).then(function(e){this.searchModel=e,e.getValue("totalItems")<=0&&this.set("emptySearch",!0)}.bind(this))},buildContainer:function(){var e="search.YOUR_PHOTOS";return this.listId==="contacts"?e="search.FROM_YOUR_CONTACTS":this.listId==="everyone"&&(e="search.EVERYONES_PHOTOS"),this.setContainerHTML(this.templates("search-photos-single-row")({emptySearch:this.get("emptySearch"),total:this.searchModel.getValue("totalItems"),singleResult:this.searchModel.getValue("totalItems")===1,viewAll:"#"+this.listId,"photo-list-view":this.subviews["photo-list-view"].get("container"),title:this.intlMessage({intlName:e})})),this},activate:function(){return this.registerEventHandler(this.get("container").on("click",this.handleClick.bind(this))),this},handleClick:function(e){e.halt();var t=e.target,n;t.hasClass("view-more-link")&&(n=t.getDOMNode().href.split("#")[1],this.fire("subviewViewEvent","viewEntireSearchList",{list:n,searchUrl:this.searchUrl}))}},{ATTRS:{emptySearch:{value:!1}}})},"@VERSION@",{requires:["flickr-view","photo-list-view","hermes-template-search-photos-single-row","search-photos-lite-models","photo-selector-css"],langBundles:["common","search"]});
YUI.add("hermes-template-photo-selector-photo-list-photo-interaction",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function h(e,t){var r="",i,s;return r+='<a href="'+f((i=(i=(i=e.photo,i==null||i===!1?i:i.owner),i==null||i===!1?i:i.url),typeof i===a?i.apply(e):i))+'" class="attribution">',s={hash:{intlName:"common.BY_USER",user:(i=(i=e.photo,i==null||i===!1?i:i.owner),i==null||i===!1?i:i.displayname)},data:t},r+=f((i=n.intlMessage||e.intlMessage,i?i.call(e,s):l.call(e,"intlMessage",s)))+"</a>",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=n.helperMissing,c=this;s+='\n<div class="photo-list-photo-interaction">\n	<div class="square"></div>\n	<div class="interaction-bar">\n		<div class="text">\n			<a href="',(o=n.photoPageUrl)?o=o.call(t,{hash:{},data:i}):(o=t.photoPageUrl,o=typeof o===a?o.apply(t):o),s+=f(o)+'" class="title">'+f((o=(o=t.photo,o==null||o===!1?o:o.title),typeof o===a?o.apply(t):o))+"</a>\n			",u=n["if"].call(t,(o=(o=t.photo,o==null||o===!1?o:o.owner),o==null||o===!1?o:o.displayname),{hash:{},inverse:c.noop,fn:c.program(1,h,i),data:i});if(u||u===0)s+=u;return s+="\n		</div>\n	</div>\n</div>\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-selector-photo-list-photo-interaction",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("photo-selector-photolist-interaction-view",function(e){var t=require("lib/helpers/type-validator");"use strict",e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var e=this.get("model");return this.setContainerHTML(this.templates("photo-selector-photo-list-photo-interaction")({photo:e.toJSON(),photoPageUrl:this.get("photoPageUrl")})),this},activate:function(){return this.registerEventHandler(this.get("container").on("click",this.selectPhoto.bind(this))),this.registerEventHandler(e.on("photoSelector:subviewEvent",this.handleOtherPhotoSelected,this)),this.get("isActive")||this.get("container").removeClass("active"),this},selectPhoto:function(t){t.halt(),this.set("isActive",!0),this.get("container").addClass("active"),e.fire("photoSelector:subviewEvent",{eventName:"selectPhotoFromPhotoList",id:this.get("id")})},handleOtherPhotoSelected:function(e){if(e.eventName==="selectPhotoFromPhotoList"&&this.get("isActive")){if(e.id===this.get("id"))return;this.set("isActive",!1),this.get("container")._node&&this.get("container").removeClass("active")}}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(e,n){return t.photoId(e)}},model:{writeOnce:"initOnly"},photoPageUrl:{writeOnce:"initOnly"}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-selector-photo-list-photo-interaction","photo-list-photo-interaction-css","attribute-helpers"],optionalRequires:["fluid"],langBundles:["common"]});
YUI.add("hermes-template-photo-selector-sets-photolist-set-interaction",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=n.helperMissing;return s+='\n<div class="photo-list-album-interaction photo-selector-album dark">\n	<div class="interaction-bar">\n		<h4 class="album-title">'+f((o=(o=t.album,o==null||o===!1?o:o.title),typeof o===a?o.apply(t):o))+'</h4>\n		<span class="album-photo-count">',u={hash:{intlName:"models.PLURAL_PHOTOS",count:(o=t.album,o==null||o===!1?o:o.totalCount)},data:i},s+=f((o=n.intlMessage||t.intlMessage,o?o.call(t,u):l.call(t,"intlMessage",u)))+"</span>\n	</div>\n</div>\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-selector-sets-photolist-set-interaction",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("photo-selector-sets-photolist-interaction-view",function(e){var t=require("lib/helpers/type-validator");"use strict",e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},loadState:function(){return this.appContext.getModel(this.get("engagementModelName"),this.get("id")).then(function(e){this.set("engagement",e)}.bind(this))},buildContainer:function(){return this.setContainerHTML(this.templates("photo-selector-sets-photolist-set-interaction")({album:this.get("model").toJSON(),albumPageUrl:this.get("albumPageUrl")})),this},activate:function(){return this.registerEventHandler(this.get("container").on("click",this.selectSet.bind(this))),this},selectSet:function(t){t.halt(),e.fire("photoSelector:subviewEvent",{eventName:"selectSetFromPhotoList",id:this.get("id"),title:this.get("model").getValue("title")})},destructor:function(){}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(e,n){return t.photoId(e)}},model:{writeOnce:"initOnly"},albumPageUrl:{writeOnce:"initOnly"},engagement:{value:null},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(t,n){return e.AttributeHelpers.validateString(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-selector-sets-photolist-set-interaction","photo-list-album-interaction-css","attribute-helpers"],optionalRequires:["fluid"],langBundles:["models"]});
YUI.add("photo-selector-view",function(e){var t=150,n=200,r={};r={horizontal:20,vertical:20},e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.get("container").getHTML()===""&&this.setContainerHTML(this.templates("flickr-balls")({})),this.photoListView,this.searchPhotoListViews=[],this.publicOnlyGroups=e.publicOnlyGroups,this.isUploading=!1,this},loadState:function(){var t={photostreamModel:this.appContext.getModel("photostream-models",this.appContext.getViewer().nsid),setsModel:this.appContext.getModel("sets-models",this.appContext.getViewer().nsid)};return this.get("enableMarketplaceProducts")&&(t.marketplaceCategoryListModel=this.appContext.getModel("marketplace-categories-list-models",1)),(new e.FlickrPromise(t)).then(function(t){this.set("photostreamModel",t.photostreamModel),this.set("setsModel",t.setsModel),this.get("enableMarketplaceProducts")&&this.set("marketplaceCategoryListModel",t.marketplaceCategoryListModel);if(this.get("groupId"))return this.appContext.getModel("group-pool-models",this.get("groupId")).then(function(e){this.set("groupModel",e)}.bind(this),function(t){e.Flog.error(this.name,"error loading group model",t)}.bind(this))}.bind(this))},moveElementToFirstInArray:function(e,t,n){var r;return e.forEach(function(e,i){e[n]===t&&(r=i)}),e.unshift(e.splice(r,1)[0]),e},buildContainer:function(){var e,t,n=[];return this.get("enableMarketplaceProducts")&&(n=this.get("marketplaceCategoryListModel").getValue("categories").toJSON()),t={hasUploadCapabilities:this.get("hasUploadCapabilities"),enableMarketplaceProducts:this.get("enableMarketplaceProducts"),marketplaceCategories:n,searchable:this.get("searchable"),hasGroupCapabilities:this.get("groupId")},e=this.templates("photo-selector")(t),this.setContainerHTML(e),this},loadPhotoList:function(n,i){var s=this,o=this.get("container"),u=o.one(".photo-selector-photos-wrapper"),a;this.photoListView&&this.photoListView.destroy(),i||(i=!1),a={modelParams:n,parentName:this.name,paginateOnScroll:!0,parentContainer:u,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName")},this.get("itemFilterFunction")&&(a.itemFilterFunction=this.get("itemFilterFunction")),a.layout={targetRowHeight:t,containerWidth:a.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:0,bottom:10,left:0},itemSpacing:r,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:u.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=a,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,primaryPhotoListConfig:a,isActiveViewAgnostic:!0,container:o.one(".photo-selector-photos-container")}).then(function(t){return t.initialize().then(function(t){var n,r=o.one(".photo-selector-photos-container .photo-list-view");u.getDOMNode().scrollTop=0,s.photoListView=t,o.one(".loader").addClass("loaded"),i&&!r.hasChildNodes()&&(n=e.Node.create('<p class="no-results">'+s.intlMessage({intlName:"search.NO_MATCHES_FOR_QUERY_TERM_YOUR"})+"</p>"),r.empty().append(n)),s.set("selected",null),e.fire("photoSelector:unselected")})},function(t){e.Flog.error("[photo-selector-view] Error getting view ("+t+")")})},loadGroupPhotoList:function(n){var i=this,s=this.get("container"),o=s.one(".group-photo-selector-photos-wrapper"),u;this.photoListView&&this.photoListView.destroy(),u={modelParams:n,parentName:this.name,paginateOnScroll:!0,parentContainer:o,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName")},this.get("itemFilterFunction")&&(u.itemFilterFunction=this.get("itemFilterFunction")),u.layout={targetRowHeight:t,containerWidth:u.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:0,bottom:10,left:0},itemSpacing:r,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:o.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=u,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,primaryPhotoListConfig:u,isActiveViewAgnostic:!0,container:o}).then(function(t){return t.initialize().then(function(t){var n,r=s.one(".group-photo-selector-photos-container .photo-list-view");o.getDOMNode().scrollTop=0,i.photoListView=t,s.one(".loader").addClass("loaded"),r.hasChildNodes()||(n=e.Node.create('<p class="no-results">'+i.intlMessage({intlName:"groups.GROUP_POOL_CONTAINS_NO_PUBLIC_PHOTOS"})+"</p>"),r.empty().append(n)),i.set("selected",null),e.fire("photoSelector:unselected")})},function(t){e.Flog.error("[photo-selector-view] Error getting view ("+t+")")})},loadSetsPhotoList:function(t){var i=this,s=this.get("container"),o;this.photoListView&&this.photoListView.destroy(),o={modelParams:t,parentName:this.name,paginateOnScroll:!0,parentContainer:s.one(".photo-selector-photos-wrapper"),relayoutOnResize:!0,interactionViewName:this.get("setsInteractionViewName"),engagementModelName:"set-models",viewBeaconRestrictedAttribute:"primaryNeedsInterstitial"},o.layout={targetRowHeight:n,containerWidth:o.parentContainer.get("offsetWidth"),containerPadding:{top:14,right:0,bottom:14,left:0},itemSpacing:r,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:s.one(".photo-selector-photos-wrapper").get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=o,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,primaryPhotoListConfig:o,isActiveViewAgnostic:!0,container:s.one(".photo-selector-photos-container")}).then(function(t){return t.initialize().then(function(t){s.one(".photo-selector-photos-wrapper").getDOMNode().scrollTop=0,i.photoListView=t,s.one(".loader").addClass("loaded"),i.set("selected",null),e.fire("photoSelector:unselected")})},function(t){e.Flog.error("[photo-selector-view] Error getting view ("+t+")")})},loadSearchPhotoList:function(n){var i=this,s=this.get("container"),o,u=n.photoListContainerSelector?s.one(n.photoListContainerSelector
):s.one(".photo-selector-photos-container"),a=n.parentContainerSelector?s.one(n.parentContainerSelector):s.one(".photo-selector-photos-wrapper"),f=n.maxNumRows?this.get("limitedRowsPhotoListViewName"):this.get("photoListViewName");this.searchPhotoListViews&&this.searchPhotoListViews[n.listId]&&this.searchPhotoListViews[n.listId].destroy(),o={modelParams:n.modelParams,parentName:this.name,paginateOnScroll:!0,parentContainer:a,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName"),engagementModelName:"photo-lite-models"},this.get("itemFilterFunction")&&(o.itemFilterFunction=this.get("itemFilterFunction")),o.layout={targetRowHeight:t,containerWidth:o.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:0,bottom:10,left:0},itemSpacing:r,forceAspectRatio:1,maxNumRows:n.maxNumRows?n.maxNumRows:Number.POSITIVE_INFINITY,alwaysDisplayOrphans:n.alwaysDisplayOrphans?n.alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:a.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=o,this.appContext.getView(f,{appContext:this.appContext,primaryPhotoListConfig:o,isActiveViewAgnostic:!0,container:u,searchUrl:n.searchUrl,listId:n.listId}).then(function(t){return t.initialize().then(function(t){i.registerEventHandler(t.on("subviewViewEvent",i.handleSubviewEvent,i)),s.one(".photo-selector-search-lists-wrapper").getDOMNode().scrollTop=0,n.parentContainerSelector&&(s.one(n.parentContainerSelector).getDOMNode().scrollTop=0),i.searchPhotoListViews[n.listId]=t,s.one(".loader").addClass("loaded"),i.set("selected",null),e.fire("photoSelector:unselected")})},function(t){e.Flog.error("[photo-selector-view] Error getting view ("+t+")")})},activate:function(){var t=this.get("container"),n,r=this.get("defaultSelected");return this.registerEventHandler(e.on("photoSelector:subviewEvent",this.handleSubviewEvent,this)),this.registerEventHandler(t.on("click",this.handleClick,this)),this.get("hasUploadCapabilities")&&this.registerEventHandler(t.one(".file-select").on("change",this.handleFileSelect,this)),this.registerEventHandler(e.on("photoSelector:subviewEvent",this.handleSubviewEvent,this)),r?(r.type==="marketplace"&&(r.id===0||r.id==="0"?n={registryName:"marketplace-creativeCommons-photos-models",modelIdOrAttributes:1,collectionAttributeName:"photos"}:n={registryName:"marketplace-category-photos-models",modelIdOrAttributes:r.id,collectionAttributeName:"photos"},this.toggleSelector(),this.loadPhotoList(n),this.toggleTitleBar(r.title,"marketplace")),r.type==="group"?(n={registryName:"group-pool-models",modelIdOrAttributes:this.get("groupId")+"-public",collectionAttributeName:"photoPageList"},this.publicOnlyGroups&&(n.fetchParams={privacyFilter:1},n.modelIdOrAttributes+="-public"),this.toggleGroupSelector(),this.loadGroupPhotoList(n),this.toggleTitleBar(r.title,"group")):(n={registryName:"set-models",modelIdOrAttributes:r.id,collectionAttributeName:"photoPageList"},this.loadPhotoList(n),this.toggleTitleBar(r.title,"set"))):this.get("photostreamModel").getValue("totalItems")===0?this.toggleUploader():(n={registryName:"photostream-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"photoPageList"},this.loadPhotoList(n,"photostream")),this},toggleUploader:function(){this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.get("container").one(".marketplace-category-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-upload").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding")},toggleSelector:function(){this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".marketplace-category-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").removeClass("is-hiding")},toggleMarketplaceCategorySelector:function(){this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("container").one(".marketplace-category-wrapper").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding")},toggleSearchListsSelector:function(){this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".marketplace-category-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-search-lists-wrapper").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding")},toggleGroupSelector:function(){var e=this.get("container").one(".photo-selector-upload");e&&e.addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".marketplace-category-wrapper").addClass("is-hiding"),this.get("container"
).one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").removeClass("is-hiding")},toggleTitleBar:function(t,n,r){var i=this.get("container"),s=i.one(".photo-selector-title-bar"),o=s.one(".back-to-list"),u="";typeof r=="undefined"&&(r=!0),n==="search"&&(t='"'+t+'"'),n==="marketplace"?u=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_CATEGORY_LIST"}):n==="set"?u=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_ALBUM_LIST"}):n==="search"&&(u=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_SEARCH_LIST"})),r?o.removeClass("hidden"):o.addClass("hidden"),o.set("text",u),s.one(".title").set("text",e.Handlebars.helpers.truncate(t,120)),s.removeClass("hidden"),i.one(".photo-selector-photos-wrapper").addClass("showing-title"),i.one(".photo-selector-search-lists-wrapper").addClass("showing-title"),i.one(".marketplace-category-wrapper").addClass("showing-title"),this.get("groupId")&&i.one(".group-photo-selector-photos-wrapper").addClass("showing-title")},hideTitleBar:function(){var e=this.get("container"),t=e.one(".photo-selector-title-bar");t.addClass("hidden"),e.one(".photo-selector-photos-wrapper").removeClass("showing-title"),e.one(".marketplace-category-wrapper").removeClass("showing-title"),this.get("groupId")&&e.one(".group-photo-selector-photos-wrapper").removeClass("showing-title")},onParentViewEvent:function(t,n){var r=n[1],i,s,o={},u=this.get("searchable"),a;n[0]==="navigation"?(i=r.target._node.dataset.value,i==="upload"?(this.get("hasUploadCapabilities")&&this.toggleUploader(),this.get("fileDragDrop")?this.get("fileDragDrop").reset():(this.set("fileDragDrop",new e.HtmlFileDragDrop({dropZone:".photo-selector-upload > .drop-zone"})),this.get("fileDragDrop").on("drop",this.handleFileDrop,this))):(this.get("hasUploadCapabilities")&&this.toggleSelector(),i==="marketplace"?this.toggleMarketplaceCategorySelector():i==="group"?(s={registryName:"group-pool-models",modelIdOrAttributes:this.get("groupId"),collectionAttributeName:"photoPageList"},this.publicOnlyGroups&&(s.fetchParams={privacyFilter:1},s.modelIdOrAttributes+="-public"),this.toggleGroupSelector(),this.loadGroupPhotoList(s)):i==="photostream"?(s={registryName:"photostream-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"photoPageList"},this.loadPhotoList(s)):i==="sets"&&(s={registryName:"sets-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"albumsList"},this.loadSetsPhotoList(s)),this.hideTitleBar())):n[0]==="search"&&(a=new e.SearchUrl(r.apiParams,this.appContext),this.toggleSearchListsSelector(),u.yours&&(this.searchUrlYourPhotos=new e.SearchUrl(r.apiParams,this.appContext),this.searchUrlYourPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid),!u.contacts&&!u.everyone?(this.toggleSelector(),s={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlYourPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlYourPhotos.getAPIParams(),additionalExtras:["o_dims","is_marketplace_printable","has_invalid_colorspace_for_print"]}},this.loadPhotoList(s,!0)):(o.listId="yours",o.photoListContainerSelector=".photo-selector-search-list-yours .photo-selector-search-list-container",o.parentContainerSelector=".photo-selector-search-list-yours",o.maxNumRows=1,o.alwaysDisplayOrphans=!0,o.searchUrl=this.searchUrlYourPhotos,o.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlYourPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlYourPhotos.getAPIParams()}},this.loadSearchPhotoList(o))),u.contacts&&(this.searchUrlContactsPhotos=new e.SearchUrl(r.apiParams,this.appContext),this.searchUrlContactsPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid),this.searchUrlContactsPhotos.setAPIParam("contacts","all"),o.listId="contacts",o.photoListContainerSelector=".photo-selector-search-list-contacts .photo-selector-search-list-container",o.parentContainerSelector=".photo-selector-search-list-contacts",o.maxNumRows=1,o.alwaysDisplayOrphans=!0,o.searchUrl=this.searchUrlContactsPhotos,o.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlContactsPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlContactsPhotos.getAPIParams()}},this.loadSearchPhotoList(o)),u.everyone&&(this.searchUrlEveryonePhotos=new e.SearchUrl(r.apiParams,this.appContext),o.listId="everyone",o.photoListContainerSelector=".photo-selector-search-list-everyone .photo-selector-search-list-container",o.parentContainerSelector=".photo-selector-search-list-everyone",o.maxNumRows=1,o.alwaysDisplayOrphans=!0,o.searchUrl=this.searchUrlEveryonePhotos,o.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:r.id,collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlEveryonePhotos.getAPIParams()}},this.loadSearchPhotoList(o)),u.marketplace,this.toggleTitleBar(a.getAPIParams().text,"search",!1))},handleSubviewEvent:function(t){var n,r,i;if(t.eventName==="selectPhotoFromPhotoList")return n={photoModel:this.appContext.getModel("photo-models",t.id)},(new e.FlickrPromise(n)).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),e.fire("photoSelector:selected",{hasWarning:!1,photoId:t.photoModel.id}),this.set("selected",t.photoModel.id)}.bind(this));t.eventName==="selectSetFromPhotoList"?(r={registryName:"set-models",modelIdOrAttributes:t.id,collectionAttributeName:"photoPageList"},this.loadPhotoList(r),this.toggleTitleBar(t.title,"set")):t.details&&t.details[0]==="viewEntireSearchList"&&(r={registryName:"search-photos-lite-models",modelIdOrAttributes:t.details[1].searchUrl.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:t.details[1].searchUrl.getAPIParams()}},this.toggleSelector(),this.loadPhotoList(r),i="search.YOUR_PHOTOS"
,t.details[1].list==="contacts"?i="search.FROM_YOUR_CONTACTS":t.details[1].list==="everyone"&&(i="search.EVERYONES_PHOTOS"),i=this.intlMessage({intlName:i}),this.toggleTitleBar(i+": "+t.details[1].searchUrl.getAPIParams().text,"search"))},handleClick:function(e){var t=e.target,n,r;if(this.isUploading)return;t.hasClass("marketplace-category")||t.hasClass("creative-commons-category")?(n=t.getData("value"),n===this.get("categoryIdCreativeCommons")||n===this.get("categoryIdNasa")?this.set("photoSource",this.get("photoSourceCreativeCommons")):this.set("photoSource",this.get("photoSourceMarketplace")),n===0||n==="0"?r={registryName:"marketplace-creativeCommons-photos-models",modelIdOrAttributes:1,collectionAttributeName:"photos"}:r={registryName:"marketplace-category-photos-models",modelIdOrAttributes:n,collectionAttributeName:"photos"},this.toggleSelector(),this.loadPhotoList(r),this.toggleTitleBar(t.getData("title"),"marketplace")):t.hasClass("back-to-list")?this.fire("subviewViewEvent","backToList"):t.hasClass("simulate-file-select")&&(e.halt(),this.get("container").one(".file-select").set("value",""),this.get("container").one(".file-select").getDOMNode().click())},handleSelectPhoto:function(t){var n;n={photoModel:this.appContext.getModel("photo-models",t.getData("photo-id"))};if(t.hasClass("invalid"))return;return this.set("photoSource",this.get("photoSourceOwnImage")),(new e.FlickrPromise(n)).then(function(t){e.fire("photoSelector:selected",{hasWarning:!1,photoId:t.photoModel.id}),this.set("selected",t.photoModel.id)}.bind(this))},handlePhotoSetSelector:function(e){var t;this.get("hasUploadCapabilities")&&this.toggleSelector(),t={registryName:"set-models",modelIdOrAttributes:e,collectionAttributeName:"photoPageList"},this.loadPhotoList(t)},handlePhotoUploaded:function(e){this.appContext.getModelRegistry("photostream-models").then(function(t){t.attributeSearch({normalizedId:this.appContext.getViewer().nsid},!0).forEach(function(e){t.remove(e)}),this.set("selected",e.id),this.fire("actionClick",e),this.resetUploader()}.bind(this),function(e){this.appContext.err(e)}.bind(this))},handleFileSelect:function(e){var t;t=e.target.getDOMNode().files[0],t&&t.name&&this.uploadFile(t)},pollTicket:function(t){var n;if(!this.uploadTimer)this.uploadTimer=e.moment();else{n=e.moment().diff(this.uploadTimer,"seconds");if(n>this.get("maxUploadTimeAllowed"))return this.showUploadError("GENERIC")}this.appContext.callAPI("flickr.photos.upload.checkTickets",{tickets:t}).then(function(e){var n;e&&e.stat&&(e.stat!=="ok"&&this.showUploadError("GENERIC"),e.uploader&&e.uploader.ticket instanceof Array&&(n=e.uploader.ticket[0],n&&n.id===t&&(n.complete===1?this.appContext.getModel("photo-models",n.photoid).then(this.handlePhotoUploaded.bind(this),function(e){this.showUploadError("GENERIC")}):n.complete===2?this.showUploadError("FILE_TYPE"):setTimeout(function(){this.pollTicket(t)}.bind(this),1e3))))}.bind(this),function(e){this.showUploadError("GENERIC")}.bind(this))},resetUploader:function(){this.clearUploadError(),this.get("container").one(".drop-zone").removeClass("uploading"),this.get("container").removeClass("uploading"),this.isUploading=!1,this.uploadTimer=undefined},uploadFile:function(t){var n=new FormData,r,i=e.config.flickr.api.hostname_client_upload,s,o;this.clearUploadError(),this.get("container").one(".drop-zone").addClass("uploading"),this.get("container").addClass("uploading"),this.isUploading=!0,n.append("api_key",e.config.flickr.api.site_key),n.append("csrf",e.config.flickr.csrf.token),n.append("photo",t,t.name),n.append("async","1"),n.append("is_public","0"),n.append("is_friend","0"),n.append("is_family","0"),n.append("content_type","1"),r=this._imgFileXhr=new XMLHttpRequest,r.open("POST",i,!0),r.withCredentials=!0,s=function(t){var n=typeof t=="object"?t.target.statusText:t+"";e.Flog.error("[photo-selector] Error during upload ("+n+")"),this.resetUploader(),this.showUploadError("GENERIC")},o=function(t){var n,r,i,o;try{o=e.one(t.currentTarget.responseXML),r=o.one("rsp").getAttribute("stat")}catch(u){r="",n=""}return r!=="ok"?s((r||"empty")+": "+(n||"no message")):(i=o.one("ticketid").get("text"),this.pollTicket(i))},r.addEventListener("load",o.bind(this)),r.addEventListener("error",s.bind(this)),r.send(n)},clearUploadError:function(){this.get("container").one(".upload-error").setHTML("")},showUploadError:function(e){this.resetUploader(),this.get("container").one(".upload-error").setHTML(this.intlMessage({intlName:this.get("errorMessages")[e]})),this.get("fileDragDrop").showError()},handleFileDrop:function(e){if(this.isUploading)return;e instanceof Error?this.showUploadError(e.message):this.uploadFile(e)},destructor:function(){this.photoListView&&this.photoListView.destroy()}},{ATTRS:{maxUploadTimeAllowed:{readOnly:!0,value:20},errorMessages:{readOnly:!0,value:{GENERIC:"common.PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC",FILE_TYPE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE",FILE_SIZE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE",FILE_COUNT:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT",LOW_QUALITY:"common.PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY",COLOR_SPACE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE"}},categoryIdCreativeCommons:{readOnly:!0,value:"101"},categoryIdNasa:{readOnly:!0,value:"102"},categoryIdAbstract:{readOnly:!0,value:"1"},photoSourceOwnImage:{readOnly:!0,value:1},photoSourceCreativeCommons:{readOnly:!0,value:2},photoSourceMarketplace:{readOnly:!0,value:3},enableMarketplaceProducts:{value:!0,setter:function(e){return e}},isCreativeCommonsWallartEnabled:{value:!1,setter:function(e){return this.appContext.flipper.isFlipped("creative-commons-wallart")?e:!1}},hasUploadCapabilities:{value:!0},photoListViewName:{value:"photo-selector-photolist-view"},limitedRowsPhotoListViewName:{value:"photo-selector-limited-rows-photolist-view"},searchable:{value:{yours:!0,contacts:!0,everyone:!0,marketplace:!1}},interactionViewName:{value:"photo-selector-photolist-interaction-view"},setsInteractionViewName
:{value:"photo-selector-sets-photolist-interaction-view"},itemFilterFunction:{value:function(e){return!e.getValue("isVideo")}},defaultSelected:{value:!1},selected:{},groupId:{}}})},"@VERSION@",{requires:["flickr-view","flickr-promise","flickr-api","html-file-dragdrop","hermes-template-photo-selector","util-css","flickrui-css","fluid-balls-css","photo-selector-css","photo-selector-photolist-view","photo-selector-limited-rows-photolist-view","photo-selector-photolist-interaction-view","photo-selector-sets-photolist-interaction-view","flog"],optional:["search-photos-lite-models"],langBundles:["common","wallart","search","groups"]});
YUI.add("hermes-lang-wallart",function(e,t){e.Intl.add("hermes/wallart","en-US",{WALL_ART:["Wall Art"],YOU_CANCELLED_THIS_ITEM_ON_DATE:["You cancelled this item order on ",{type:"date",valueName:"date",format:"monthYear"}],YOU_ORDERED_THIS_ITEM_ON_DATE:["You ordered this item on ",{type:"date",valueName:"date",format:"monthYear"}],RETURN_TO_YOUR_ORDER_HISTORY:["Return to your order history"],SELECT_A_PHOTO:["Select a photo"],SELECT_PRODUCT:["Select product"],PHOTO_MOUNT:["Photo Mount"],CANVAS:["Canvas"],CANVAS_WRAP:["Canvas Wrap"],PREMIUM_LUSTRE:["Premium Lustre"],GLOSSY:["Glossy"],MATTE:["Matte"],SIZE:["Size"],CHECKOUT:["Checkout"],REORDER:["Reorder"],TOTAL:["Total"],UPLOAD:["Upload"],CURATED_COLLECTIONS:["Curated Collections"],CREATIVE_COMMONS:["Creative Commons"],NASA:["NASA"],ABSTRACT:["Abstract"],ANIMALS:["Animals"],PATTERNS:["Patterns"],FOOD:["Food"],LANDSCAPES:["Landscapes"],TRAVEL:["Travel"],MY_ALBUMS:["My Albums"],PRODUCT_DROPUP_CANVAS:['Artist-grade canvas wrapped around 1.25" wood frame'],PRODUCT_DROPUP_MOUNTED:['Archival photo paper finished with 1" wood-textured edge'],MATERIAL_DROPUP_LUSTRE:["Professional Crystal Archive - Premium Lustre"],MATERIAL_DROPUP_GLOSSY:["Professional Crystal Archive - Glossy"],MATERIAL_DROPUP_MATTE:["Professional Crystal Archive - Matte"],SIZES_MODAL_SIZES_NOT_AVAILABLE:["Some sizes not available due to the resolution of the photo. Learn More."],MOUNTED_SAFE_AREA:["The area outside of the solid-line will not be printed. <br>Inside the line is the safe area."],CANVAS_SAFE_AREA:["The area outside of the dotted-line will be printed on the wrap. <br>Inside the line will be printed on the front."],SAVING:["Saving..."],SAVED:["All changes saved"],WITH_CODE:["with code:"],FREE_SHIPPING_WITH_CODE:["Free shipping with code:"],PRODUCT_DESCRIPTION_CANVAS_PART_1_8X10:['8" x 10" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_10X8:['10" x 8" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_12X12:['12" x 12" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_11X14:['11" x 14" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_14X11:['14" x 11" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_16X20:['16" x 20" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X16:['20" x 16" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X24:['20" x 24" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_24X20:['24" x 20" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X30:['20" x 30" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_1_30X20:['30" x 20" gallery wrap'],PRODUCT_DESCRIPTION_CANVAS_PART_2:['1.25" stretcher bars<br>Impact resistant frame<br>Includes hardware to hang'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_8X10:['8" x 10" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_10X8:['10" x 8" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_12X12:['12" x 12" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_11X14:['11" x 14" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_14X11:['14" x 11" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_16X20:['16" x 20" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_20X16:['20" x 16" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_20X30:['20" x 30" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_1_30X20:['30" x 20" mounted print'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE:['Matte finish<br>1" wood-textured edge<br>Pre-drilled holes for easy hanging'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY:['Glossy finish<br>1" wood-textured edge<br>Pre-drilled holes for easy hanging'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE:['Premium lustre finish<br>1" wood-textured edge<br>Pre-drilled holes for easy hanging'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_KICKSTAND:['Matte finish<br>1" wood-textured edge<br>Pre-drilled holes for easy hanging and kickstand for table-top display'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_KICKSTAND:['Glossy finish<br>1" wood-textured edge<br>Pre-drilled holes for easy hanging and kickstand for table-top display'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_KICKSTAND:['Premium lustre finish<br>1" wood-textured edge<br>Pre-drilled holes for easy hanging and kickstand for table-top display'],PHOTO_TOO_SMALL_IN_SELECTED_SIZE:['This photo is too small to print in your selected size. We\'ll automatically find the next best size for you. <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567">Learn more.</a>'],BAD_SIZES:['Some sizes not available due to the resolution of the photo. <a target="_blank" href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567">Learn More</a>'],NOT_AVAILABLE:["Not available due to photo resolution"],UPLOADR_ERROR_MESSAGE_GENERIC:["There was a problem uploading your photo. Please try again."],UPLOADR_ERROR_MESSAGE_FILE_TYPE:["Looks like this photo has an invalid file type. Upload a photo that is either a PNG or JPG."],UPLOADR_ERROR_MESSAGE_FILE_SIZE:["Looks like this photo is too large to upload. The largest photo size we can upload is 250 MB."],UPLOADR_ERROR_MESSAGE_FILE_COUNT:["Select only one photo to upload."],UPLOADR_ERROR_MESSAGE_LOW_QUALITY:['Looks like this photo doesn\'t meet the minimum requirements to get printed. Please choose a photo that\'s at least 975 &times; 825 pixels. Learn more about <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567" target="_blank">requirements</a> for print products.'],UPLOADR_ERROR_MESSAGE_COLOR_SPACE:['Sorry, we cannot print photos with a CMYK or ProPhoto RGB colorspace. We recommend photos with an sRGB color space. <a href="https://help.yahoo.com/kb/flickr/creations-faq-sln22216.html?impressions=true#cont33" target="_blank">Learn more</a>.'],DRAG_DROP_TO_UPLOAD:['Drag and drop your photo to upload or <a href="#" class="simulate-file-select">browse</a>.'],PHOTOS_UPLOADED_AS_PRIVATE:['Photos uploaded here will be added to your <a href="/me/">Photostream</a> as private.'],LOW_QUALITY_ZOOM_HANDLE_TOOLTIP_CANVAS:["At this zoom level, your photo will print at a low quality. Please zoom out to purchase."
],LOW_QUALITY_ZOOM_HANDLE_TOOLTIP_MOUNTED:["At this zoom level, your photo will print at a low quality. Please zoom out to purchase."],INITIAL_DIALOG_CANVAS_DISABLED:["Canvas Wrap is not available for this photo due to its low resolution. Canvas Wrap requires a minimum 975px x 825px."],INITIAL_DIALOG_MOUNTED_DISABLED:["Photo Mount is not available for this photo due to its low resolution. Photo Mount requires a minimum 1000px x 800px."],GO_BACK:["Go back"],PHOTO_NOT_LARGE_ENOUGH_TO_ROTATE:["This photo is not large enough to rotate into a different orientation."],CHANGE_SIZE:["Change size"],CHANGE_PHOTO:["Change photo"],CREATIONS:["Creations"],VIEW_ORDER_HISTORY:["View order history"],COMPLETED:["Completed"],IN_PROGRESS:["In progress"],CREATE_NEW:["Create new"],CREATIONS_EMPTY_WALLART:["No Wall Art to show"],CREATIONS_EMPTY_BOOKS:["No Photo Books to show"],CREATIONS_EMPTY_TERTIARY:['We\'ll display in progress and completed creations here.<br>Learn more about <a href="/create" title="">Wall Art</a> and <a href="/create" title="">Photo Books</a>.'],CREATIONS_NOT_ABLE_DELETE:["We were not able to delete this creation. Please try again later."],PHOTO_FOR_WALLART_DELETED:["The photo for this wall art was deleted"],DELETE_THIS_WALLART:["Delete this wall art"],REORDER_THIS_WALLART:["Reorder this wall art"],EDIT_THIS_WALLART:["Edit this wall art"],CHANGE_PAPER:["Change paper"],MATERIAL_DROPUP_LUSTRE_NEW:['Lustre\'s pearl-like finish gives your photo a "true-to-life" look. It provides the color saturation of glossy but the fingerprint resistance of matte.'],MATERIAL_DROPUP_GLOSSY_NEW:["A sleek, glossy finish with high-contrast appearance so your photos appear crisp and sharp. Great for highly reflective photos of water, metal or sky."],MATERIAL_DROPUP_MATTE_NEW:["An elegant, matte finish with lower contrast to enhance the texture of your photo. Resists fingerprints and is great for black and white photos."],ON_SALE:["On Sale"],PRODUCT_DESCRIPTION_CANVAS_PART_2_PREVIEW:['<span>1.25" stretcher bars</span><span>Impact resistant frame</span><span>Includes hardware to hang</span>'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_PREVIEW:['<span>Matte finish</span><span>1" wood-textured edge</span><span>Pre-drilled holes for easy hanging</span>'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_PREVIEW:['<span>Glossy finish</span><span>1" wood-textured edge</span><span>Pre-drilled holes for easy hanging</span>'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_PREVIEW:['<span>Premium lustre finish</span><span>1" wood-textured edge</span><span>Pre-drilled holes for easy hanging</span>'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_KICKSTAND_PREVIEW:['<span>Matte finish</span><span>1" wood-textured edge</span><span>Pre-drilled holes for easy hanging and kickstand for table-top display</span>'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_KICKSTAND_PREVIEW:['<span>Glossy finish</span><span>1" wood-textured edge</span><span>Pre-drilled holes for easy hanging and kickstand for table-top display</span>'],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_KICKSTAND_PREVIEW:['<span>Premium lustre finish</span><span>1" wood-textured edge</span><span>Pre-drilled holes for easy hanging and kickstand for table-top display</span>'],PHOTO_BOOK:["Photo Book"],GLOSSY_HARDCOVER_BOOK_PREMIUM_LUSTRE_PAPER:['11" x 8.5" glossy hardcover book with premium lustre paper']})},"@VERSION@",{requires:["intl"]});
YUI.add("hermes-template-fluid-modal-nav-bar",function(e,t){var n=e.Template.Handlebars.revive(function(e,t,n,r,i){function l(e,t){var r="",i;r+="\n			",i=n.unless.call(e,e.disabled,{hash:{},inverse:f.noop,fn:f.program(2,c,t),data:t});if(i||i===0)r+=i;return r+="\n		",r}function c(e,t){var r="",i;r+='\n			<li data-id="',(i=n.id)?i=i.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===u?i.apply(e):i),r+=a(i)+'" data-value="',(i=n.value)?i=i.call(e,{hash:{},data:t}):(i=e.value,i=typeof i===u?i.apply(e):i),r+=a(i)+'" class="link ',i=n["if"].call(e,e.selected,{hash:{},inverse:f.noop,fn:f.program(3,h,t),data:t});if(i||i===0)r+=i;r+=" ",i=n["if"].call(e,e.hiddenByDefault,{hash:{},inverse:f.noop,fn:f.program(5,p,t),data:t});if(i||i===0)r+=i;return r+='"><a data-value="',(i=n.value)?i=i.call(e,{hash:{},data:t}):(i=e.value,i=typeof i===u?i.apply(e):i),r+=a(i)+'">',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===u?i.apply(e):i),r+=a(i)+"</a></li>\n			",r}function h(e,t){return"selected"}function p(e,t){return"hidden"}function d(e,t){return'\n			<form action="/search" method="get" role="search">\n				<input type="text" name="text" value="" class="search-field" autocomplete="off" aria-label="Search" role="textbox">\n				<input type="submit" class="search-icon" tabindex="-1" aria-label="Search" role="button">\n			</form>\n		'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="fluid-modal-nav-bar">\n	<div class="fluid-modal-nav-content">\n		<ul class="links">\n		',o=n.each.call(t,t.links,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;s+="\n		</ul>\n		",o=n["if"].call(t,t.enableSearch,{hash:{},inverse:f.noop,fn:f.program(7,d,i),data:i});if(o||o===0)s+=o;return s+="\n	</div>\n</div>\n",s}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/fluid-modal-nav-bar",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
